# 概率论

参考: https://zhuanlan.zhihu.com/p/42859784
## 一、基本概念
### 1.1 基本概念

定义:

> 随机试验中出现的可能结果称为样本点,记作$\omega$
>
> 所有样本点组成的集合称为样本空间,记作$\Omega=\left \{ \omega|\omega为样本点 \right \}$
>
> 当样本空间$\Omega$仅有有限个元素时,称其子集为一个事件,用大写字母表示,如$A$。

若样本点$\omega\in A$,称事件$A$发生,否则称事件不发生。$\overline{A}=\Omega-A$称为事件$A$的对立事件。容易知道$\omega\in A\Leftrightarrow \omega\not\in \overline{A}$,反之亦然。

特别地,$A=\varnothing$时,事件称为不可能事件。$A=\Omega$时,事件称为必然事件。


设$A,B$为事件,之后用$AB$来表示$A\cap B$。特别地,当$AB=\varnothing$时,称这两个事件互斥(不相容)。对多于两个事件,称这些事件互斥当且仅当这些事件中的任意两个都互斥。记$A\cup B$为$A+B$。


给出几个很常用的事件之间的运算公式,读者容易自证:

> $A\cup B=A+\overline{A}B, \ A=AB+A\overline{B}$
>
> $\overline{ \bigcup_{j=1}^n A_j }=\bigcap _{j=1}^n \overline{A_j}$,$\overline{ \bigcap_{j=1}^n A_j }=\bigcup _{j=1}^n \overline{A_j}$.(De-Morgan)


### 1.2 古典概型

对一个有限集合$A$,$|A|$表示其中的元素个数。

定义:试验的样本空间$\Omega$有限,$A\subseteq \Omega$,若$\Omega$中的每个样本点的发生的可能性相同,则称$P(A)=\frac{|A|}{|\Omega|}$为事件$A$发生的概率。由以上定义的概率模型便称为古典概型。

需要再一次强调的是:每个样本点的发生的可能性相同,这是前提条件,如果忽视条件直接套用古典概型就会犯错。



关于如此定义出的概率$P$的性质,列出以下几条,读者自证。

> $P(A)\geq 0$
>
> $P(\Omega)=1,P(\varnothing)=0$
>
> 若$A_1,A_2,...,A_n$互斥,则$P(\sum_{j=1}^nA_j)=\sum_{j=1}^nP(A_j)$。(有限可加性)


例:计算以下方法数:(假设不同排列均等可能)有$n$个不同的球,每次抽取抽取1个球

> 有放回地抽取,抽取$m$个排成一列,求不同排列总数。 乘法原理$n^m$
>
> 无放回地抽取,抽取$m$个排成一列,求不同排列总数。排列数$P_n^m=\frac{n!}{(n-m)!}$
>
> 无放回地抽取，抽取$m$个忽视次序地组成一组,求不同组合总数。组合数$C_n^m=\frac{n!}{m!(n-m)!}$
>
> 将所有球分成$k$个不同的组,忽视每一组中元素的次序,且每组恰好有$n_1,n_2,...,n_k$个球($n_1+n_2+...+n_k=n$),求不同分组结果数。$C_n^{n_1}C_{n-n_1}^{n_2}...C_{n-n_1-...-n_{k-1}}^{n_k}=\frac{n!}{n_1!n_2!...n_k!}$,将这个数记作$\binom{n}{n_1,n_2,...,n_k}$,其为多项式$(x_1+x_2+...+x_k)^n$中$x_1^{n_1}x_2^{n_2}...x_k^{n_k}$的展开系数,称为多项式系数。

> 方程$x_1+x_2+...+x_n=m$的非负整数解的个数。隔板法(C_{m+n-1}^{n-1})
>
> 方程$x_1+x_2+...+x_n=m$的正整数解的个数。插空法($C_{m-1}^{n-1}$)


### 1.3 几何概型

对于$A\subseteq \mathbb{R}^r$,设$A$的体积存在,记为$m(A)$,后文可能也会称其为测度(不严格意义上)。

定义:试验的样本空间$\Omega$,$m(\Omega)>0$,$A\subseteq \Omega$,若每个样本点等可能地落在$\Omega$中,则称$P(A)=\frac{m(A)}{m(\Omega)}$为事件$A$发生的概率。由以上定义的概率模型便称为几何概型。

类似于古典概型，需要再一次强调的是：每个样本点等可能地落在$\Omega$中

**等待-相遇问题**:两人某天1点到2点之间等可能地在随机时间到达某地点会面且两人的到达时间相互不影响,先到者等20min后离去,求两人能相遇的概率。

解:设$x,y$为两人分别到达的时间,样本空间$\Omega=\left \{ (x,y)|0\leq x,y\leq 60 \right \}$,符合几何概型要求。

事件$A$:两人能够相遇$A\subseteq \Omega$,则$A=\left \{ (x,y)||x-y|\leq 20\right \}$

画图得:

![](http://pic2.zhimg.com/v2-abae587e4b867d45db91a54c7dc15745_b.jpg)

$m(A)$即为围成的六边形面积$=60^2-40^2$,$m(\Omega)=60^2$,故$P(A)=\frac{5}{9}$。


注意:概型的差别的根源是等可能假设之间的差别,为了进一步体会这一点,举有趣的Bertrand问题作为例子来说明这一点。

例(Bertrand):在半径为1的圆内任意取一条弦,求弦长度大于等于$\sqrt{3}$的概率。

解:这个问题乍看之下让人手足无措，其原因就在于题中完全没有说明弦要按照怎么样的方式来选取。我们可以通过确定弦的两个端点来确定弦,也可以通过确定弦的中点来确定弦。更深入地,在讨论关于弦的中点的问题时,我们既可以假设中点在圆中等可能分布,也可以假设弦在圆的直径上等可能分布。

下面我们举出三种常见的等可能假设并分别求概率。

设事件$A$:弦长度大于等于$\sqrt{3}$

**情况1**:弦的端点等可能地落在圆周上。

则我们可以假设一个端点固定,则另一个端点也等可能地落在圆周上。如图:

![](http://pic4.zhimg.com/v2-fb6bd097599a43ef7e21327994e15c97_b.jpg)

固定点$C$,假设$|CB|=|CD|=\sqrt{3}$,则另一个端点只需要在$B,D$所夹劣弧之上都满足要求。则样本空间$\Omega=\left \{ \theta|\theta\in [0,2\pi ) \right \}$,$A=\left \{ \theta|\theta\in [\frac{2}{3}\pi ,\frac{4}{3}\pi ] \right \}$。容易求出$P(A)=\frac{1}{3}$。

**情况2**:弦的中点等可能地落在一个小圆内。

如图:

![](https://pic1.zhimg.com/80/v2-8867261d39ec200e76f040bb033d2cb0_1440w.jpg)

$|BC|=|EF|=\sqrt{3}$,则这两条弦的中点在同一个小圆上,容易知道当弦的中点在小圆上或内时,弦长必定符合条件要求。利用几何概型,$m(\Omega)=\pi ,m(A)=\frac{\pi}{4}$,$P(A)=\frac{1}{4}$。

**情况3**:弦中点等可能地落在与之垂直的直径上。

如图:

![](https://pic2.zhimg.com/v2-85f57e04fdf7cd429b7b92bf5ad5deb1_b.jpg)

$|BC|=\sqrt{3}$,容易知道当弦中点在小圆之内时,满足条件要求。由于沿着直径等可能分布。故$P(A)=\frac{1}{2}$。


可以看到不同的等可能假设导致了最后截然不同的结果。然而,这些结果之间并无对错之分,只是从不同角度看同一个问题得到了不同的结果。


### 1.4 概率空间

$A,B$为测度存在的事件,则$\overline{A},A\cup B,A\cap B,A-B$也都可测。故可测事件事件经过有限次集合运算后得到的事件也必定可测。

现在若有事件列$A_1,A_2,...$互斥且均可测,则由体积的性质,$m(\bigcup _{j=1}^{\infty}A_j)=\sum_{j=1}^{\infty}m(A_j)$,故互斥的可测事件经过可列并后仍旧可测。

现在考虑,更广泛地,事件列$B_1,B_2,...$,均可测(不一定互斥)。进行变换$A_1=B_1,A_2=B_2-B_1,...,A_j=B_j-B_{j-1}-...-B_1$,则事件列$A_1,A_2,...$互斥且均可测,且有$\bigcup_{j=1}^{\infty}A_j=\bigcup_{j=1}^{\infty}B_j$,利用上述结论,可以得到$\bigcup_{j=1}^{\infty}B_j$可测。故可测事件经过可列并后仍旧可测。

自然地,我们引出如下定义:$\Omega$为样本空间,$F$为$\Omega$的子集构成的集合,若$F$满足:

> $\Omega\in F$
>
> 若$A\in F,\overline{A}\in F$(对补集运算封闭)
>
> 若$A_j\in F,\bigcup_{j=1}^{\infty}A_j\in F$(对可列并运算封闭)

则$F$为$\Omega$的事件域/$\sigma$域,称$(\Omega,F)$为可测空间。


在可测空间上,我们得以严格定义概率,作为一种测度而存在。

定义:$(\Omega,F)$为可测空间,$P$为定义在$F$上的函数,若满足:

> $\forall A\in F,P(A)\geq 0$(非负性)
>
> $P(\Omega)=1$(完全性)
>
> 对$A_1,A_2,...$为$F$中的互斥事件列,有$P(\bigcup _{j=1}^{\infty}A_j)=\sum_{j=1}^{\infty}P(A_j)$(可列可加性)

则$P$为$F$上的概率测度,简称概率,$(\Omega,F,P)$称为概率空间。


定义:$A$为事件,若$P(A)=1$,称$A$几乎必然发生,记作$A \ a.s.$。(almost surely)